{% extends "base.html" %}

{% block title %}科室管理 - 医院信息管理系统{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center page-header">
    <h2>科室管理</h2>
    <a href="{{ url_for('main.add_department') }}" class="btn btn-success">添加科室</a>
</div>

<div class="card">
    <div class="card-body">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>科室ID</th>
                    <th>科室名称</th>
                    <th>位置</th>
                    <th>电话</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                {% for department in departments %}
                <tr>
                    <td>{{ department.dept_id }}</td>
                    <td>{{ department.dept_name }}</td>
                    <td>{{ department.location }}</td>
                    <td>{{ department.phone }}</td>
                    <td>
                        <a href="{{ url_for('main.edit_department', dept_id=department.dept_id) }}" class="btn btn-sm btn-primary">编辑</a>
                        <a href="{{ url_for('main.view_department', dept_id=department.dept_id)}}" class="btn btn-sm btn-info">详情</a>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="5" class="text-center">暂无科室记录</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}